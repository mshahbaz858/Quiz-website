{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\DEVELOPMENT\\\\react-project\\\\Quiz-react\\\\react-quiz-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\DEVELOPMENT\\\\react-project\\\\Quiz-react\\\\react-quiz-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\DEVELOPMENT\\\\react-project\\\\Quiz-react\\\\react-quiz-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\DEVELOPMENT\\\\react-project\\\\Quiz-react\\\\react-quiz-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\DEVELOPMENT\\\\react-project\\\\Quiz-react\\\\react-quiz-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\DEVELOPMENT\\\\react-project\\\\Quiz-react\\\\react-quiz-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Input,Button,Progress,Divider}from\"antd\";import{level1}from'../datas';import{Link}from'react-router-dom';import{AudioOutlined}from'@ant-design/icons';var Level1=/*#__PURE__*/function(_Component){_inherits(Level1,_Component);var _super=_createSuper(Level1);function Level1(){var _this;_classCallCheck(this,Level1);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={value:\"\",timeOut:false,round:0,timer:10,randomTense:\"\",wrongAnswer:\"\",wrongAnswers:[]};_this.startTimeOut=function(){_this.timeout=setTimeout(function(){_this.setState({timeOut:true});},10000);_this.interval=setInterval(function(){_this.setState({timer:_this.state.timer-1});},1000);};_this.randomTense=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var TenseArray,randomTense;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:TenseArray=['simple','past'];//We need to get one tense between simple and past randomly \n_context.next=3;return TenseArray[Math.floor(Math.random()*TenseArray.length)];case 3:randomTense=_context.sent;_this.setState({randomTense:randomTense});case 5:case\"end\":return _context.stop();}}},_callee);}));_this.handleRestart=function(){//1. set state  timer : 0\n_this.setState({timer:10,timeOut:false,wrongAnswer:\"\"});//2. trigger startTimeOut again \n_this.startTimeOut();};_this.handleChange=function(event){_this.setState({value:event.target.value});};_this.handleSubmit=function(event){event.preventDefault();if(_this.state.timeOut)return alert(\"Please click restart button to keep doing it\");if(!_this.state.value.trim())return alert(\"Please Type something first!\");_this.setState({value:\"\",wrongAnswer:\"\"});//we need to check if our answer is right or not  \n_this.checkMatched();};_this.checkMatched=function(){//we need to check whether our answer was right or not \n//know Tense for the question \n(_this.state.randomTense==='simple'?level1[_this.state.round].simple:level1[_this.state.round].past)===_this.state.value?//true \n_this.setState({round:_this.state.round+1,timer:10,wrongAnswer:\"\"},function(){_this.randomTense();//stop the setTimeout and start new setTimeout,  not for setInterval \nclearTimeout(_this.timeout);_this.timeout=setTimeout(function(){_this.setState({timeOut:true});},10000);})://false\n_this.setState({wrongAnswer:_this.state.randomTense==='simple'?\"\".concat(level1[_this.state.round].simple):\"\".concat(level1[_this.state.round].past)},function(){_this.setState({round:_this.state.round+1,timer:10,wrongAnswers:_this.state.wrongAnswers.concat(level1[_this.state.round].voca)});_this.randomTense();clearTimeout(_this.timeout);_this.timeout=setTimeout(function(){_this.setState({timeOut:true});},10000);});};_this.handleRedirect=function(){setTimeout(function(){window.location.reload();},10);};_this.handleAudio=function(event){event.preventDefault();var elm=event.target;var audio=document.getElementById('audio');var source=document.getElementById('audioSource');source.src=elm.getAttribute('data-value');audio.load();//call this to just preload the audio without playing \naudio.play();//call this to play the song right away\n};return _this;}_createClass(Level1,[{key:\"componentDidMount\",value:function componentDidMount(){this.randomTense();this.startTimeOut();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.state.timer===0){clearInterval(this.interval);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearTimeout(this.timeout);clearInterval(this.interval);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{style:{padding:'1rem',border:'1px solid grey',borderRadius:'4px',maxWidth:400,margin:'3rem auto'}},this.state.round<level1.length?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Vocaburary Game\"),/*#__PURE__*/React.createElement(Progress,{percent:this.state.round/level1.length*100,status:\"active\"}),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-between'}},/*#__PURE__*/React.createElement(\"h2\",null,\"LEVEL 1\"),/*#__PURE__*/React.createElement(\"h2\",null,this.state.round,\"/\",level1.length)),/*#__PURE__*/React.createElement(\"span\",{style:{marginBottom:0,color:'grey'}},\"Infinitive\"),/*#__PURE__*/React.createElement(\"h2\",null,level1[this.state.round].voca),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:'1rem'}},\"Answer the voca`s \",/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},this.state.randomTense==='simple'?'simple past':'past participle')),/*#__PURE__*/React.createElement(\"form\",{style:{padding:'1rem 0'},onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex'}},/*#__PURE__*/React.createElement(Input,{name:\"value\",onChange:this.handleChange,value:this.state.value,id:\"voca\",type:\"text\"}),/*#__PURE__*/React.createElement(Button,{className:true,type:\"submit\",onClick:this.handleSubmit},\"Submit\"))),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-between'}},/*#__PURE__*/React.createElement(Button,{className:\"\".concat(this.state.timer<=8&&'disabled')},\"5\"),/*#__PURE__*/React.createElement(Button,{className:\"\".concat(this.state.timer<=6&&'disabled')},\"4\"),/*#__PURE__*/React.createElement(Button,{className:\"\".concat(this.state.timer<=4&&'disabled')},\"3\"),/*#__PURE__*/React.createElement(Button,{className:\"\".concat(this.state.timer<=2&&'disabled')},\"2\"),/*#__PURE__*/React.createElement(Button,{className:\"\".concat(this.state.timer<=0&&'disabled')},\"1\"),/*#__PURE__*/React.createElement(Button,{onClick:this.handleRestart,style:{display:this.state.timeOut?'block':'none'}},\"Click to Restart!\")),this.state.wrongAnswer&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(\"h3\",null,\"Wrong! Correct answer: \"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"li\",{style:{display:'block'}},/*#__PURE__*/React.createElement(\"p\",{onClick:this.handleAudio,\"data-value\":level1[this.state.round-1]?level1[this.state.round-1].mp3:level1[this.state.round].mp3},/*#__PURE__*/React.createElement(AudioOutlined,null),\"   \",this.state.wrongAnswer)),/*#__PURE__*/React.createElement(\"audio\",{id:\"audio\",controls:true,style:{display:'none'}},/*#__PURE__*/React.createElement(\"source\",{id:\"audioSource\"}),\"Your browser does not support the audio format.\")))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Reviews the wrong answers\"),this.state.wrongAnswers.map(function(answer,index){return/*#__PURE__*/React.createElement(\"div\",{key:index},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,answer)));}),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-evenly'}},/*#__PURE__*/React.createElement(Button,{onClick:this.handleRedirect},\"Retry\"),/*#__PURE__*/React.createElement(Button,null,/*#__PURE__*/React.createElement(Link,{to:\"/test2\"},\"Level2\")))));}}]);return Level1;}(Component);export default Level1;","map":{"version":3,"sources":["D:/DEVELOPMENT/react-project/Quiz-react/react-quiz-app/src/views/Level1.js"],"names":["React","Component","Input","Button","Progress","Divider","level1","Link","AudioOutlined","Level1","state","value","timeOut","round","timer","randomTense","wrongAnswer","wrongAnswers","startTimeOut","timeout","setTimeout","setState","interval","setInterval","TenseArray","Math","floor","random","length","handleRestart","handleChange","event","target","handleSubmit","preventDefault","alert","trim","checkMatched","simple","past","clearTimeout","concat","voca","handleRedirect","window","location","reload","handleAudio","elm","audio","document","getElementById","source","src","getAttribute","load","play","clearInterval","padding","border","borderRadius","maxWidth","margin","display","justifyContent","marginBottom","color","fontSize","mp3","map","answer","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Input, Button, Progress, Divider } from \"antd\";\nimport { level1 } from '../datas';\nimport { Link } from 'react-router-dom';\nimport { AudioOutlined } from '@ant-design/icons'\n\nclass Level1 extends Component {\n\n    state = {\n        value: \"\",\n        timeOut: false,\n        round: 0,\n        timer: 10,\n        randomTense: \"\",\n        wrongAnswer: \"\",\n        wrongAnswers: []\n    }\n\n\n    componentDidMount() {\n        this.randomTense()\n        this.startTimeOut()\n    }\n\n    startTimeOut = () => {\n        this.timeout = setTimeout(() => {\n            this.setState({ timeOut: true })\n        }, 10000)\n\n\n        this.interval = setInterval(() => {\n            this.setState({ timer: this.state.timer - 1 })\n        }, 1000)\n    }\n\n\n    componentDidUpdate() {\n        if (this.state.timer === 0) {\n            clearInterval(this.interval)\n        }\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timeout)\n        clearInterval(this.interval)\n    }\n\n\n    randomTense = async () => {\n        let TenseArray = ['simple', 'past']\n        //We need to get one tense between simple and past randomly \n        let randomTense = await TenseArray[Math.floor(Math.random() * TenseArray.length)]\n        this.setState({ randomTense: randomTense })\n    }\n\n    handleRestart = () => {\n        //1. set state  timer : 0\n        this.setState({ timer: 10, timeOut: false, wrongAnswer: \"\" })\n\n        //2. trigger startTimeOut again \n        this.startTimeOut();\n    }\n\n    handleChange = (event) => {\n        this.setState({ value: event.target.value })\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n\n        if (this.state.timeOut) return alert(\"Please click restart button to keep doing it\");\n\n        if (!this.state.value.trim()) return alert(\"Please Type something first!\")\n\n        this.setState({ value: \"\", wrongAnswer: \"\" })\n\n        //we need to check if our answer is right or not  \n        this.checkMatched()\n\n    }\n\n    checkMatched = () => {\n\n        //we need to check whether our answer was right or not \n        //know Tense for the question \n        (this.state.randomTense === 'simple' ? level1[this.state.round].simple : level1[this.state.round].past)\n            === this.state.value ?\n            //true \n            this.setState({ round: this.state.round + 1, timer: 10, wrongAnswer: \"\" }, () => {\n\n                this.randomTense()\n                //stop the setTimeout and start new setTimeout,  not for setInterval \n                clearTimeout(this.timeout);\n                this.timeout = setTimeout(() => {\n                    this.setState({ timeOut: true })\n                }, 10000)\n            })\n            :\n            //false\n            this.setState({\n                wrongAnswer: this.state.randomTense === 'simple' ? `${level1[this.state.round].simple}`\n                    : `${level1[this.state.round].past}`\n            }, () => {\n                this.setState({\n                    round: this.state.round + 1, timer: 10,\n                    wrongAnswers: this.state.wrongAnswers.concat(level1[this.state.round].voca)\n                })\n                this.randomTense()\n                clearTimeout(this.timeout);\n                this.timeout = setTimeout(() => {\n                    this.setState({ timeOut: true })\n                }, 10000)\n            })\n    }\n\n    handleRedirect = () => {\n        setTimeout(() => {\n            window.location.reload();\n        }, 10);\n    }\n\n    handleAudio = (event) => {\n        event.preventDefault();\n        var elm = event.target;\n        var audio = document.getElementById('audio');\n        var source = document.getElementById('audioSource');\n        source.src = elm.getAttribute('data-value')\n        audio.load(); //call this to just preload the audio without playing \n        audio.play(); //call this to play the song right away\n    }\n\n    render() {\n        return (\n            <div style={{ padding: '1rem', border: '1px solid grey', borderRadius: '4px', maxWidth: 400, margin: '3rem auto' }}>\n\n                {this.state.round < level1.length ?\n                    <>\n                        <h1>Vocaburary Game</h1>\n\n                        <Progress percent={this.state.round / level1.length * 100} status=\"active\" />\n\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <h2>LEVEL 1</h2>\n                            <h2>{this.state.round}/{level1.length}</h2>\n                        </div>\n\n                        <span style={{ marginBottom: 0, color: 'grey' }}>Infinitive</span>\n                        <h2>{level1[this.state.round].voca}</h2>\n\n                        <div style={{ fontSize: '1rem' }}>\n                            Answer the voca`s <span style={{ color: 'red' }}>\n                                {this.state.randomTense === 'simple' ? 'simple past' : 'past participle'}\n                            </span>\n                        </div>\n\n\n                        <form style={{ padding: '1rem 0' }} onSubmit={this.handleSubmit}>\n                            <div style={{ display: 'flex' }}>\n                                <Input\n                                    name=\"value\"\n                                    onChange={this.handleChange}\n                                    value={this.state.value}\n                                    id=\"voca\"\n                                    type=\"text\"\n                                />\n\n                                <Button\n                                    className\n                                    type=\"submit\"\n                                    onClick={this.handleSubmit}\n                                >\n                                    Submit\n                                </Button>\n                            </div>\n                        </form>\n\n                        {/* Timer */}\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <Button className={`${this.state.timer <= 8 && 'disabled'}`}>5</Button>\n                            <Button className={`${this.state.timer <= 6 && 'disabled'}`}>4</Button>\n                            <Button className={`${this.state.timer <= 4 && 'disabled'}`}>3</Button>\n                            <Button className={`${this.state.timer <= 2 && 'disabled'}`}>2</Button>\n                            <Button className={`${this.state.timer <= 0 && 'disabled'}`}>1</Button>\n                            <Button\n                                onClick={this.handleRestart}\n                                style={{ display: this.state.timeOut ? 'block' : 'none' }}\n                            >\n                                Click to Restart!\n                            </Button>\n                        </div>\n\n\n                        {/* Results */}\n\n                        {this.state.wrongAnswer && (\n                            <React.Fragment>\n                                <Divider />\n                                <h3>Wrong! Correct answer: </h3>\n                                <div>\n                                    <li style={{ display: 'block' }}>\n                                        <p\n                                            onClick={this.handleAudio}\n                                            data-value={level1[this.state.round - 1] ? level1[this.state.round - 1].mp3 : level1[this.state.round].mp3}\n                                        >\n                                            <AudioOutlined />   {this.state.wrongAnswer}\n                                        </p>\n                                    </li>\n\n                                    <audio id=\"audio\" controls style={{ display: 'none' }}>\n                                        <source id=\"audioSource\"></source>\n                                        Your browser does not support the audio format.\n                                    </audio>\n\n                                </div>\n                            </React.Fragment>\n                        )}\n                    </>\n                    :\n                    <>\n                        <h1>Reviews the wrong answers</h1>\n                        {this.state.wrongAnswers.map((answer, index) => (\n                            <div key={index}>\n                                <ul>\n                                    <li>\n                                        {answer}\n                                    </li>\n\n                                </ul>\n                            </div>\n                        ))}\n                        <div style={{ display: 'flex', justifyContent: 'space-evenly' }}>\n                            <Button onClick={this.handleRedirect}>Retry</Button>\n                            <Button><Link to=\"/test2\" >Level2</Link></Button>\n                        </div>\n                    </>\n                }\n            </div>\n        )\n    }\n\n}\n\nexport default Level1;"]},"metadata":{},"sourceType":"module"}